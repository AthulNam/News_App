{"ast":null,"code":"var _jsxFileName = \"/Applications/project/News App/client/src/components/Main/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Main() {\n  _s();\n\n  const API_KEY = \"af42c4ed74b14e52882a06c3ac93ec34\";\n  const url = \"https://newsapi.org/v2/everything?q=\";\n  const localStorageKey = \"fetchedArticles\";\n  const [articles, setArticles] = useState([]);\n  const [showWelcomeMessage, setShowWelcomeMessage] = useState(true);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [navItems, setNavItems] = useState([\"AI\", \"Cricket\", \"Tech\", \"Stocks\", \"Movies\", \"Business\"]);\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    const storedArticles = localStorage.getItem(localStorageKey);\n\n    if (storedArticles) {\n      setArticles(JSON.parse(storedArticles));\n    } else {\n      fetchData(\"all\");\n    }\n\n    const storedUser = localStorage.getItem(\"user\");\n\n    if (storedUser) {\n      setUser(JSON.parse(storedUser));\n    }\n  }, []);\n\n  const fetchData = async query => {\n    try {\n      const res = await axios.get(`${url}${query}&apiKey=${API_KEY}`);\n      setArticles(res.data.articles.filter(article => !article.title.includes(\"Removed\")));\n      localStorage.setItem(localStorageKey, JSON.stringify(res.data.articles));\n      setShowWelcomeMessage(false);\n      console.log(res.data);\n    } catch (error) {\n      console.error(\"Error fetching data: \", error);\n    }\n  };\n\n  const search = query => {\n    fetchData(query || searchQuery);\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"user\"); // Remove user data\n\n    window.location.reload();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.white_btn,\n          onClick: handleLogout,\n          children: \"Logout \\u25B6\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: user && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Welcome back, \", user.username, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Main, \"7hkCftAmA13zSU4J4zkTj0Y8Jxo=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["/Applications/project/News App/client/src/components/Main/index.jsx"],"names":["React","useState","useEffect","axios","Main","API_KEY","url","localStorageKey","articles","setArticles","showWelcomeMessage","setShowWelcomeMessage","searchQuery","setSearchQuery","navItems","setNavItems","user","setUser","storedArticles","localStorage","getItem","JSON","parse","fetchData","storedUser","query","res","get","data","filter","article","title","includes","setItem","stringify","console","log","error","search","handleLogout","removeItem","window","location","reload","styles","white_btn","username"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction Main() {\n    const API_KEY = \"af42c4ed74b14e52882a06c3ac93ec34\";\n    const url = \"https://newsapi.org/v2/everything?q=\";\n    const localStorageKey = \"fetchedArticles\";\n\n    const [articles, setArticles] = useState([]);\n    const [showWelcomeMessage, setShowWelcomeMessage] = useState(true);\n    const [searchQuery, setSearchQuery] = useState(\"\");\n    const [navItems, setNavItems] = useState([\"AI\", \"Cricket\", \"Tech\", \"Stocks\", \"Movies\", \"Business\"]);\n    const [user, setUser] = useState(null);\n\n    useEffect(() => {\n        const storedArticles = localStorage.getItem(localStorageKey);\n        if (storedArticles) {\n            setArticles(JSON.parse(storedArticles));\n        } else {\n            fetchData(\"all\");\n        }\n        \n        const storedUser = localStorage.getItem(\"user\");\n        if (storedUser) {\n            setUser(JSON.parse(storedUser));\n        }\n    }, []);\n\n    const fetchData = async (query) => {\n        try {\n            const res = await axios.get(`${url}${query}&apiKey=${API_KEY}`);\n            setArticles(res.data.articles.filter((article) => !article.title.includes(\"Removed\")));\n            localStorage.setItem(localStorageKey, JSON.stringify(res.data.articles));\n            setShowWelcomeMessage(false);\n            console.log(res.data);\n        } catch (error) {\n            console.error(\"Error fetching data: \", error);\n        }\n    };\n\n    const search = (query) => {\n        fetchData(query || searchQuery);\n    };\n\n    const handleLogout = () => {\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"user\"); // Remove user data\n        window.location.reload();\n    };\n\n    return (\n        <div>\n            <header>\n                <nav>\n                    {/* Navigation content */}\n                    <button className={styles.white_btn} onClick={handleLogout}>\n                        Logout ▶️\n                    </button>\n                </nav>\n            </header>\n            <main>\n                {/* Main content */}\n                {user && (\n                    <div>\n                        <h2>Welcome back, {user.username}!</h2>\n                        {/* Display other user data as needed */}\n                    </div>\n                )}\n            </main>\n        </div>\n    );\n}\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}