{"ast":null,"code":"var _jsxFileName = \"/Applications/project/News App/client/src/components/Main/index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styles from \"./styles.module.css\";\nimport { useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Main() {\n  _s();\n  const API_KEY = \"af42c4ed74b14e52882a06c3ac93ec34\";\n  const url = \"https://newsapi.org/v2/everything?q=\";\n  const localStorageKey = \"fetchedArticles\";\n  const [articles, setArticles] = useState([]);\n  const [showWelcomeMessage, setShowWelcomeMessage] = useState(true);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [navItems, setNavItems] = useState([\"AI\", \"Cricket\", \"Tech\", \"Stocks\", \"Movies\", \"Business\"]);\n  const location = useLocation();\n  useEffect(() => {\n    const storedArticles = localStorage.getItem(localStorageKey);\n    if (storedArticles) {\n      setArticles(JSON.parse(storedArticles));\n    } else {\n      fetchData(\"all\");\n    }\n\n    // Display login successful alert with email\n    const email = location.state.email;\n    if (email) {\n      alert(`Login successful! Welcome, ${email}`);\n    }\n    console.log(\"location\", location.state.email);\n  }, []);\n  const fetchData = async query => {\n    try {\n      const res = await axios.get(`${url}${query}&apiKey=${API_KEY}`);\n      setArticles(res.data.articles.filter(article => !article.title.includes(\"Removed\")));\n      localStorage.setItem(localStorageKey, JSON.stringify(res.data.articles));\n      setShowWelcomeMessage(false);\n      console.log(res.data);\n    } catch (error) {\n      console.error(\"Error fetching data: \", error);\n    }\n  };\n  const search = query => {\n    fetchData(query || searchQuery);\n  };\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    window.location.reload();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(Main, \"E//EntNyk45mYaFY9I2P0HBAu2Y=\", false, function () {\n  return [useLocation];\n});\n_c = Main;\nexport default Main;\nvar _c;\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["React","useState","useEffect","axios","styles","useLocation","jsxDEV","_jsxDEV","Main","_s","API_KEY","url","localStorageKey","articles","setArticles","showWelcomeMessage","setShowWelcomeMessage","searchQuery","setSearchQuery","navItems","setNavItems","location","storedArticles","localStorage","getItem","JSON","parse","fetchData","email","state","alert","console","log","query","res","get","data","filter","article","title","includes","setItem","stringify","error","search","handleLogout","removeItem","window","reload","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Applications/project/News App/client/src/components/Main/index.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport styles from \"./styles.module.css\";\nimport { useLocation } from \"react-router-dom\";\n\nfunction Main() {\n  const API_KEY = \"af42c4ed74b14e52882a06c3ac93ec34\";\n  const url = \"https://newsapi.org/v2/everything?q=\";\n  const localStorageKey = \"fetchedArticles\";\n\n  const [articles, setArticles] = useState([]);\n  const [showWelcomeMessage, setShowWelcomeMessage] = useState(true);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [navItems, setNavItems] = useState([\"AI\", \"Cricket\", \"Tech\", \"Stocks\", \"Movies\", \"Business\"]);\n  const location = useLocation();\n\n  useEffect(() => {\n    const storedArticles = localStorage.getItem(localStorageKey);\n    if (storedArticles) {\n      setArticles(JSON.parse(storedArticles));\n    } else {\n      fetchData(\"all\");\n    }\n    \n    // Display login successful alert with email\n    const email = location.state.email;\n    if (email) {\n      alert(`Login successful! Welcome, ${email}`);\n    }\n\n    console.log(\"location\", location.state.email);\n  }, []);\n\n  const fetchData = async (query) => {\n    try {\n      const res = await axios.get(`${url}${query}&apiKey=${API_KEY}`);\n      setArticles(res.data.articles.filter((article) => !article.title.includes(\"Removed\")));\n      localStorage.setItem(localStorageKey, JSON.stringify(res.data.articles));\n      setShowWelcomeMessage(false);\n      console.log(res.data);\n    } catch (error) {\n      console.error(\"Error fetching data: \", error);\n    }\n  };\n\n  const search = (query) => {\n    fetchData(query || searchQuery);\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    window.location.reload();\n  };\n\n  return (\n    <div>\n      {/* Rest of your component */}\n    </div>\n  );\n}\n\nexport default Main;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}